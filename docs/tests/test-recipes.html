---
layout: base
---

<body>
  <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="sd">&quot;&quot;&quot;setup&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">magical</span>
<span class="kn">from</span> <span class="nn">jinja2</span> <span class="k">import</span> <span class="n">Environment</span>
<span class="kn">from</span> <span class="nn">IPython</span> <span class="k">import</span> <span class="n">get_ipython</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>



<div id="abac1b39-d574-4bcb-98b9-0a4f53077c79"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#abac1b39-d574-4bcb-98b9-0a4f53077c79');
require([
                    "notebook/js/codecell",
                    "codemirror/mode/yaml/yaml"
                ],
                function(cc){
                    cc.CodeCell.options_default.highlight_modes.magic_yaml = {
                        reg: ["^%%yaml"]
                    };
                }
            );
            
</script>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="sd">&quot;&quot;&quot;test_register_jinja&quot;&quot;&quot;</span>

<span class="n">env</span> <span class="o">=</span> <span class="n">magical</span><span class="o">.</span><span class="n">register_jinja2_magic</span><span class="p">()</span>
<span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">env</span><span class="p">,</span> <span class="n">Environment</span><span class="p">)</span>
<span class="k">assert</span> <span class="s1">&#39;jinja2&#39;</span> <span class="ow">in</span> <span class="n">get_ipython</span><span class="p">()</span><span class="o">.</span><span class="n">magics_manager</span><span class="o">.</span><span class="n">magics</span><span class="p">[</span><span class="s1">&#39;cell&#39;</span><span class="p">]</span>
<span class="k">assert</span> <span class="s1">&#39;jinja2&#39;</span> <span class="ow">in</span> <span class="n">get_ipython</span><span class="p">()</span><span class="o">.</span><span class="n">magics_manager</span><span class="o">.</span><span class="n">magics</span><span class="p">[</span><span class="s1">&#39;line&#39;</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>



<div id="3b0baf4c-2747-4ac1-811a-a6c0a26e9dc2"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#3b0baf4c-2747-4ac1-811a-a6c0a26e9dc2');
require([
                    "notebook/js/codecell",
                    "codemirror/mode/jinja2/jinja2"
                ],
                function(cc){
                    cc.CodeCell.options_default.highlight_modes.magic_jinja2 = {
                        reg: ["^%%jinja2"]
                    };
                }
            );
            
</script>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">get_ipython</span><span class="p">()</span><span class="o">.</span><span class="n">run_cell_magic</span><span class="p">(</span><span class="s1">&#39;jinja2&#39;</span><span class="p">,</span> <span class="s1">&#39;some_markdown&#39;</span><span class="p">,</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2"># testing</span>

<span class="s2">{{env.filters.keys()|list}}</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>


<span class="k">assert</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2"># testing</span>

<span class="si">{}</span><span class="s2">&quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">filters</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span> <span class="o">==</span> <span class="n">some_markdown</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="o">**</span><span class="n">get_ipython</span><span class="p">()</span><span class="o">.</span><span class="n">user_ns</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>

<div class="output_markdown rendered_html output_subarea ">
<h1 id="testing">testing<a class="anchor-link" href="#testing">&#182;</a></h1><p>['selectattr', 'dictsort', 'wordcount', 'batch', 'float', 'pprint', 'title', 'default', 'd', 'slice', 'attr', 'list', 'escape', 'center', 'rejectattr', 'safe', 'string', 'wordwrap', 'sum', 'map', 'lower', 'capitalize', 'random', 'format', 'filesizeformat', 'join', 'reverse', 'replace', 'round', 'forceescape', 'select', 'upper', 'int', 'e', 'truncate', 'trim', 'sort', 'last', 'reject', 'urlize', 'xmlattr', 'indent', 'striptags', 'first', 'groupby', 'abs', 'urlencode', 'count', 'length']</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="sd">&quot;&quot;&quot;test_register_mistune&quot;&quot;&quot;</span>
<span class="n">magical</span><span class="o">.</span><span class="n">register_mistune_magic</span><span class="p">()</span>
<span class="k">assert</span> <span class="s1">&#39;mistune&#39;</span> <span class="ow">in</span> <span class="n">get_ipython</span><span class="p">()</span><span class="o">.</span><span class="n">magics_manager</span><span class="o">.</span><span class="n">magics</span><span class="p">[</span><span class="s1">&#39;cell&#39;</span><span class="p">]</span>
<span class="k">assert</span> <span class="s1">&#39;mistune&#39;</span> <span class="ow">in</span> <span class="n">get_ipython</span><span class="p">()</span><span class="o">.</span><span class="n">magics_manager</span><span class="o">.</span><span class="n">magics</span><span class="p">[</span><span class="s1">&#39;line&#39;</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>



<div id="f2eca87a-1c25-4d25-847b-d2d70f17333c"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#f2eca87a-1c25-4d25-847b-d2d70f17333c');
require([
                    "notebook/js/codecell",
                    "codemirror/mode/markdown/markdown"
                ],
                function(cc){
                    cc.CodeCell.options_default.highlight_modes.magic_mistune = {
                        reg: ["^%%mistune"]
                    };
                }
            );
            
</script>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="sd">&quot;&quot;&quot;test_register_yaml&quot;&quot;&quot;</span>
<span class="n">magical</span><span class="o">.</span><span class="n">register_yaml_magic</span><span class="p">()</span>
<span class="k">assert</span> <span class="s1">&#39;yaml&#39;</span> <span class="ow">in</span> <span class="n">get_ipython</span><span class="p">()</span><span class="o">.</span><span class="n">magics_manager</span><span class="o">.</span><span class="n">magics</span><span class="p">[</span><span class="s1">&#39;cell&#39;</span><span class="p">]</span>
<span class="k">assert</span> <span class="s1">&#39;yaml&#39;</span> <span class="ow">in</span> <span class="n">get_ipython</span><span class="p">()</span><span class="o">.</span><span class="n">magics_manager</span><span class="o">.</span><span class="n">magics</span><span class="p">[</span><span class="s1">&#39;line&#39;</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>



<div id="49ce24cd-574c-42e3-9514-c2e459b20c13"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#49ce24cd-574c-42e3-9514-c2e459b20c13');
require([
                    "notebook/js/codecell",
                    "codemirror/mode/yaml/yaml"
                ],
                function(cc){
                    cc.CodeCell.options_default.highlight_modes.magic_yaml = {
                        reg: ["^%%yaml"]
                    };
                }
            );
            
</script>
</div>

</div>

</div>
</div>

</div>
    </div>
  </div>
</body>